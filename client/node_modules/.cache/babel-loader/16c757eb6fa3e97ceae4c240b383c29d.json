{"ast":null,"code":"import _classCallCheck from \"/Users/shadan/Desktop/Mern-stack/week5/favouritrbtn/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shadan/Desktop/Mern-stack/week5/favouritrbtn/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/shadan/Desktop/Mern-stack/week5/favouritrbtn/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shadan/Desktop/Mern-stack/week5/favouritrbtn/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/shadan/Desktop/Mern-stack/week5/favouritrbtn/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/shadan/Desktop/Mern-stack/week5/favouritrbtn/client/src/components/Itinerary.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getItinerariesByCityName } from \"../actions/itinerariesAction\";\nimport Activities from \"./Activities\";\nimport axios from \"axios\";\n\nvar Itineraries =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Itineraries, _Component);\n\n  function Itineraries() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Itineraries);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Itineraries)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      itineraries: [],\n      selectedItinerary: \"\",\n      favBtnSelected: \"\"\n    };\n\n    _this.favButton = function (e) {\n      console.log(e.target.id);\n\n      _this.setState({\n        favBtnSelected: e.target.id\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Itineraries, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.match.params.city) {\n        this.props.getItinerariesByCityName(this.props.match.params.city);\n      }\n\n      axios.get(\"/api/currentUser\", {\n        withCredentials: true,\n        headers: {\n          Authorization: localStorage.getItem(\"token\")\n        }\n      }).then(function (res) {\n        console.log(res);\n        console.log(res.data);\n      });\n    }\n  }, {\n    key: \"selectItinerary\",\n    value: function selectItinerary(itinerary) {\n      this.setState({\n        selectedItinerary: itinerary\n      });\n      console.log(itinerary);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      //console.log(\"props: \", this.props);\n      //console.log(\"state: \", this.state.itineraries);\n      console.log(this.state.favBtnSelected); // console.log(this.props.match.params);\n\n      if (this.props.itineraries.error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, this.props.itineraries.error);\n      } else {\n        return React.createElement(\"div\", {\n          className: \"Itinerary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, this.props.itineraries.map(function (itinerary, index) {\n          return React.createElement(\"div\", {\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            id: itinerary._id,\n            onClick: _this2.favButton,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, \"my favourite\"), React.createElement(\"div\", {\n            className: \"itineraryTitle\",\n            key: itinerary.title,\n            onClick: function onClick() {\n              return _this2.selectItinerary(itinerary.title);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, itinerary.title, React.createElement(Activities, {\n            itinerary: itinerary.title,\n            isVisible: _this2.state.selectedItinerary === itinerary.title,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"itineraryProfilePic\",\n            key: itinerary.profilePic,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            className: \"profilePic\",\n            src: itinerary.profilePic,\n            alt: \"profile Pic\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          })), React.createElement(\"p\", {\n            className: \"itineraryRating\",\n            key: itinerary.rating,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          }, \"Likes: \", itinerary.rating), React.createElement(\"p\", {\n            className: \"itineraryDuration\",\n            key: itinerary.duration,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77\n            },\n            __self: this\n          }, itinerary.duration, \" hours\"), React.createElement(\"p\", {\n            className: \"itineraryPrice\",\n            key: itinerary.price,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          }, \"$\", itinerary.price), React.createElement(\"p\", {\n            className: \"itineraryHashtag\",\n            key: itinerary.hashtag,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, itinerary.hashtag));\n        }));\n      }\n    }\n  }]);\n\n  return Itineraries;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    itineraries: state.itineraries\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getItinerariesByCityName: getItinerariesByCityName\n})(Itineraries);","map":{"version":3,"sources":["/Users/shadan/Desktop/Mern-stack/week5/favouritrbtn/client/src/components/Itinerary.js"],"names":["React","Component","connect","getItinerariesByCityName","Activities","axios","Itineraries","state","itineraries","selectedItinerary","favBtnSelected","favButton","e","console","log","target","id","setState","props","match","params","city","get","withCredentials","headers","Authorization","localStorage","getItem","then","res","data","itinerary","error","map","index","_id","title","selectItinerary","profilePic","rating","duration","price","hashtag","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getItinerariesByCityName } from \"../actions/itinerariesAction\";\nimport Activities from \"./Activities\";\nimport axios from \"axios\";\n\nclass Itineraries extends Component {\n  state = {\n    itineraries: [],\n    selectedItinerary: \"\",\n    favBtnSelected: \"\"\n  };\n\n  componentDidMount() {\n    if (this.props.match.params.city) {\n      this.props.getItinerariesByCityName(this.props.match.params.city);\n    }\n\n    axios\n      .get(`/api/currentUser`, {\n        withCredentials: true,\n        headers: { Authorization: localStorage.getItem(\"token\") }\n      })\n      .then(res => {\n        console.log(res);\n        console.log(res.data);\n      });\n  }\n\n  selectItinerary(itinerary) {\n    this.setState({ selectedItinerary: itinerary });\n    console.log(itinerary);\n  }\n\n  favButton = e => {\n    console.log(e.target.id);\n    this.setState({ favBtnSelected: e.target.id });\n  };\n\n  render() {\n    //console.log(\"props: \", this.props);\n    //console.log(\"state: \", this.state.itineraries);\n    console.log(this.state.favBtnSelected);\n    // console.log(this.props.match.params);\n    if (this.props.itineraries.error) {\n      return <div>{this.props.itineraries.error}</div>;\n    } else {\n      return (\n        <div className=\"Itinerary\">\n          {this.props.itineraries.map((itinerary, index) => (\n            <div key={index}>\n              <button id={itinerary._id} onClick={this.favButton}>\n                my favourite\n              </button>\n              <div\n                className=\"itineraryTitle\"\n                key={itinerary.title}\n                onClick={() => this.selectItinerary(itinerary.title)}\n              >\n                {itinerary.title}\n\n                <Activities\n                  itinerary={itinerary.title}\n                  isVisible={this.state.selectedItinerary === itinerary.title}\n                />\n              </div>\n              <div className=\"itineraryProfilePic\" key={itinerary.profilePic}>\n                <img\n                  className=\"profilePic\"\n                  src={itinerary.profilePic}\n                  alt=\"profile Pic\"\n                />\n              </div>\n              <p className=\"itineraryRating\" key={itinerary.rating}>\n                Likes: {itinerary.rating}\n              </p>\n              <p className=\"itineraryDuration\" key={itinerary.duration}>\n                {itinerary.duration} hours\n              </p>\n              <p className=\"itineraryPrice\" key={itinerary.price}>\n                ${itinerary.price}\n              </p>\n              <p className=\"itineraryHashtag\" key={itinerary.hashtag}>\n                {itinerary.hashtag}\n              </p>\n            </div>\n          ))}\n        </div>\n      );\n    }\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    itineraries: state.itineraries\n  };\n};\nexport default connect(\n  mapStateToProps,\n  { getItinerariesByCityName }\n)(Itineraries);\n"]},"metadata":{},"sourceType":"module"}